本文只讨论分布式系统环境中的ID生成策略，分布式环境中DB进行分库处理，所以不同库的相同表在分布式环境中必须通过**统一的线程安全的**方式进行id生成。数据库设计基于mysql

因为mysql数据的innodb存储引擎的特定，索引采用b-tree算法，所以字段的设定尽量选择有序列

所以通过uuid生成序列的方式就不在考虑范围内

生成口径：

1.通过统一DB生成

​	根据mysql的自增特性来生成自增序列，

​	优点：简单快捷

​	缺点：依赖数据库，必须保证数据库的高可用，在高并发情况下，数据库这块会成为瓶颈。也可以部署多台数据库实例，设定不相的初始值，进行相同步长的自增。

2.通过程序生成

​	twitter的snowflake,美团的leaf-snowflake，根据时间戳进行自增

​	优点：方便扩展，通过本机生成

​	缺点：依赖时间，在机器时间进行回拨时，会存在一定几率的序列生成重复，所以必须保证时间一直向前

3.通过redis生成

​	Redis的原子操作INCR（+1）和INCRBY（+n）实现递增的操作	







美团leaf-snowflake

​	

